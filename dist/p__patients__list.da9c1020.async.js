(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[992],{34540:function(L,p,t){"use strict";var a=t(28991),_=t(81253),m=t(85893),o=t(86190),O=t(67294),u=t(66758),T=t(93117),g=["fieldProps","proFieldProps"],h="dateRange",D=O.forwardRef(function(x,l){var d=x.fieldProps,E=x.proFieldProps,P=(0,_.Z)(x,g),C=(0,O.useContext)(u.Z);return(0,m.jsx)(T.Z,(0,a.Z)({ref:l,fieldProps:(0,a.Z)({getPopupContainer:C.getPopupContainer},d),valueType:h,proFieldProps:E,filedConfig:{valueType:h,lightFilterLabelFormatter:function(y){return(0,o.Z)(y,(d==null?void 0:d.format)||"YYYY-MM-DD")}}},P))});p.Z=D},5966:function(L,p,t){"use strict";var a=t(28991),_=t(81253),m=t(85893),o=t(93117),O=["fieldProps","proFieldProps"],u=["fieldProps","proFieldProps"],T="text",g=function(l){var d=l.fieldProps,E=l.proFieldProps,P=(0,_.Z)(l,O);return(0,m.jsx)(o.Z,(0,a.Z)({valueType:T,fieldProps:d,filedConfig:{valueType:T},proFieldProps:E},P))},h=function(l){var d=l.fieldProps,E=l.proFieldProps,P=(0,_.Z)(l,u);return(0,m.jsx)(o.Z,(0,a.Z)({valueType:"password",fieldProps:d,proFieldProps:E,filedConfig:{valueType:T}},P))},D=g;D.Password=h,D.displayName="ProFormComponent",p.Z=D},40321:function(L){L.exports={main:"main___v2Z5L",headerList:"headerList___Mnegm",stepDescription:"stepDescription___4Ib3o",pageHeader:"pageHeader___B__A4",moreInfo:"moreInfo___3RsSn"}},36495:function(L,p,t){"use strict";t.d(p,{O:function(){return a}});var a={PHONE:576,LARGE_PHONE:768,TABLET:992,LARGE_TABLET:1200,DESKTOP:1520},_={PHONE_UP:"@media only screen and (min-width: ".concat(a.PHONE,"px)"),LARGE_PHONE_UP:"@media only screen and (min-width: ".concat(a.LARGE_PHONE,"px)"),TABLET_UP:"@media only screen and (min-width: ".concat(a.TABLET,"px)"),LARGE_TABLET_UP:"@media only screen and (min-width: ".concat(a.LARGE_TABLET,"px)"),DESKTOP_UP:"@media only screen and (min-width: ".concat(a.DESKTOP,"px)")}},78418:function(L,p,t){"use strict";t.r(p);var a=t(58024),_=t(91894),m=t(8963),o=t(42020),O=t(57663),u=t(71577),T=t(34792),g=t(48086),h=t(71194),D=t(48889),x=t(9715),l=t(16579),d=t(2824),E=t(20310),P=t(47957),C=t(57119),F=t(76570),y=t(1977),b=t(34540),I=t(5966),H=t(4771),B=t(21349),s=t(30381),r=t.n(s),c=t(67294),e=t(12788),Z=t(13752),U=t(73727),A=t(74622),j=t(40321),G=t.n(j),R=t(36495),n=t(85893),Y,tt=e.ZP.div(Y||(Y=(0,E.Z)([`
  margin-bottom: 24px;
  display: flex;
  justify-content: space-between;
  gap: 24px;
  flex-wrap: wrap;
  align-items: center;

  & > div {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    #search-button,
    label[for='filter-form_fullName'] {
      margin-left: 16px;
    }
    .ant-form-item {
      margin-bottom: 0;
    }
    @media (max-width: `,`px) {
      .ant-form-item {
        margin-bottom: 24px !important;
      }
      #search-button,
      label[for='filter-form_fullName'] {
        margin-left: 0;
      }
    }
  }
  @media (max-width: `,`px) {
    flex-direction: column-reverse;
    gap: 24px;
    align-items: end !important;
    .action-cell {
      display: flex;
    }
  }
`])),R.O.PHONE,R.O.PHONE),z=function(S){return S.map(function(f){return{key:f.id,patientId:f.id,name:f.fullName,dateOfBirth:f.dateOfBirth,address:f.address,action:f}})},et=function(){var S=(0,P.Z)(),f=S.run,nt=S.isLoading,k=(0,P.Z)(),st=k.run,Pt=k.isLoading,rt=(0,c.useState)([]),V=(0,d.Z)(rt,2),it=V[0],X=V[1],ot=(0,c.useState)(0),Q=(0,d.Z)(ot,2),lt=Q[0],J=Q[1],_t=(0,c.useState)(0),w=(0,d.Z)(_t,2),N=w[0],dt=w[1],ct=l.Z.useForm(),pt=(0,d.Z)(ct,1),K=pt[0],$=(0,c.useCallback)(function(){var v=K.getFieldValue("dateRange"),i=K.getFieldValue("fullName"),M=v[0],W=v[1];f((0,A.sH)({page:N,startDate:M,endDate:W,fullName:i})).then(function(q){X(z(q.results)),J(q.total)})},[N,K]);(0,c.useEffect)(function(){$()},[N,$]);var ut=function(i){D.Z.confirm({title:"X\xE1c nh\u1EADn",icon:(0,n.jsx)(C.Z,{"data-inspector-line":"92","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx"}),content:"B\u1EA1n c\xF3 ch\u1EAFc l\xE0 mu\u1ED1n x\xF3a b\u1EC7nh nh\xE2n ".concat(i.fullName," ch\u1EE9?"),okText:"C\xF3",cancelText:"Kh\xF4ng",onOk:function(){st((0,A.hT)(i.id)).then(function(W){g.ZP.success("X\xF3a b\u1EC7nh nh\xE2n th\xE0nh c\xF4ng!"),console.log(W),$()})}})},mt=[{title:"STT",dataIndex:"key",key:"key",width:60,render:function(i,M,W){return W+1}},{key:"patientId",title:"M\xE3 b\u1EC7nh nh\xE2n",width:150,dataIndex:"patientId"},{title:"H\u1ECD v\xE0 t\xEAn",dataIndex:"name",key:"name"},{title:"\u0110\u1ECBa ch\u1EC9",dataIndex:"address",key:"address"},{key:"dateOfBirth",title:"Ng\xE0y sinh",dataIndex:"dateOfBirth",render:function(i){return r()(i).format("DD-MM-YYYY")}},{title:"H\xE0nh \u0111\u1ED9ng",dataIndex:"action",key:"action",render:function(i){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{"data-inspector-line":"145","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx",className:"action-cell",children:[(0,n.jsx)("span",{"data-inspector-line":"146","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",style:{cursor:"pointer",color:"var(--ant-primary-color)"},onClick:function(){Z.m8.push("/patients/".concat(i.id))},children:"Ph\xE2n t\xEDch"}),(0,n.jsx)(U.rU,{"data-inspector-line":"154","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",to:"/patients/".concat(i.id,"/edit"),style:{marginLeft:8,cursor:"pointer",color:"var(--ant-primary-color)"},children:"S\u1EEDa"}),(0,n.jsx)("span",{"data-inspector-line":"160","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",onClick:function(){return ut(i)},style:{marginLeft:8,color:"red",cursor:"pointer"},children:"X\xF3a"})," "]})})}}],Et=function(){K.validateFields().then(function(i){f((0,A.sH)({page:N,startDate:i.dateRange[0],endDate:i.dateRange[1],fullName:i.fullName})).then(function(M){X(z(M.results)),J(M.total)})}).catch(function(i){console.log("Validate Failed:",i)})};return(0,n.jsx)(H.ZP,{"data-inspector-line":"195","data-inspector-column":"4","data-inspector-relative-path":"src/pages/patients/list/index.tsx",children:(0,n.jsx)("div",{"data-inspector-line":"196","data-inspector-column":"6","data-inspector-relative-path":"src/pages/patients/list/index.tsx",className:G().main,children:(0,n.jsx)(B.Z,{"data-inspector-line":"197","data-inspector-column":"8","data-inspector-relative-path":"src/pages/patients/list/index.tsx",children:(0,n.jsxs)(_.Z,{"data-inspector-line":"198","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/index.tsx",className:G().tabsCard,bordered:!1,children:[(0,n.jsx)(l.Z,{"data-inspector-line":"199","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx",name:"filter-form",form:K,initialValues:{dateRange:A.Zk,fullName:""},children:(0,n.jsxs)(tt,{"data-inspector-line":"207","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",children:[(0,n.jsxs)("div",{"data-inspector-line":"208","data-inspector-column":"16","data-inspector-relative-path":"src/pages/patients/list/index.tsx",id:"filter-wrapper",children:[(0,n.jsx)(b.Z,{"data-inspector-line":"209","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/index.tsx",name:"dateRange",label:"L\u1ECDc theo ng\xE0y",placeholder:["T\u1EEB ng\xE0y","\u0110\u1EBFn ng\xE0y"]}),(0,n.jsx)(I.Z,{"data-inspector-line":"214","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/index.tsx",name:"fullName",id:"name-input",label:"L\u1ECDc theo t\xEAn",placeholder:"L\u1ECDc theo t\xEAn"}),(0,n.jsx)(u.Z,{"data-inspector-line":"221","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/index.tsx",type:"primary",id:"search-button",icon:(0,n.jsx)(F.Z,{"data-inspector-line":"224","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/index.tsx"}),onClick:Et,children:"T\xECm ki\u1EBFm"})]}),(0,n.jsx)(u.Z,{"data-inspector-line":"230","data-inspector-column":"16","data-inspector-relative-path":"src/pages/patients/list/index.tsx",type:"primary",icon:(0,n.jsx)(y.Z,{"data-inspector-line":"232","data-inspector-column":"24","data-inspector-relative-path":"src/pages/patients/list/index.tsx"}),onClick:function(){Z.m8.push("/patients/add")},children:"Th\xEAm thai ph\u1EE5"})]})}),(0,n.jsx)(o.Z,{"data-inspector-line":"241","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx",pagination:{position:["bottomRight"],total:lt,pageSize:10,onChange:function(i){dt(i-1)}},loading:nt,dataSource:it,columns:mt})]})})})})};p.default=et},74622:function(L,p,t){"use strict";t.d(p,{Zk:function(){return h},sH:function(){return x},zn:function(){return d},dG:function(){return P},hT:function(){return F},Y0:function(){return b},oA:function(){return H}});var a=t(39428),_=t(3182),m=t(28604),o=t(42174),O=t(70594),u=t(63305),T=t(30381),g=t.n(T),h=[(0,O.L)().start,(0,O.L)().end],D=10;function x(s){return l.apply(this,arguments)}function l(){return l=(0,_.Z)((0,a.Z)().mark(function s(r){var c,e,Z,U,A,j;return(0,a.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return c=r.page,e=r.startDate,Z=e===void 0?h[0]:e,U=r.endDate,A=U===void 0?h[1]:U,j=r.fullName,R.abrupt("return",(0,o.Z)("/patients",{headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)},params:{page:c,fullName:j,limit:D,startDate:g()(Z).startOf("day").toISOString(),endDate:g()(A).endOf("day").toISOString()},method:"GET"}));case 2:case"end":return R.stop()}},s)})),l.apply(this,arguments)}function d(s){return E.apply(this,arguments)}function E(){return E=(0,_.Z)((0,a.Z)().mark(function s(r){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/patients/"+r));case 1:case"end":return e.stop()}},s)})),E.apply(this,arguments)}function P(s){return C.apply(this,arguments)}function C(){return C=(0,_.Z)((0,a.Z)().mark(function s(r){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)((0,m.pn)(r.testName,r.testId,r.patientId),{data:r,method:"DELETE",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)}}));case 1:case"end":return e.stop()}},s)})),C.apply(this,arguments)}function F(s){return y.apply(this,arguments)}function y(){return y=(0,_.Z)((0,a.Z)().mark(function s(r){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/patients/"+r,{method:"DELETE",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)}}));case 1:case"end":return e.stop()}},s)})),y.apply(this,arguments)}function b(s){return I.apply(this,arguments)}function I(){return I=(0,_.Z)((0,a.Z)().mark(function s(r){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/patients/predict-thalassemia",{method:"POST",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)},data:r}));case 1:case"end":return e.stop()}},s)})),I.apply(this,arguments)}function H(s){return B.apply(this,arguments)}function B(){return B=(0,_.Z)((0,a.Z)().mark(function s(r){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.Z)("/patients/predict-trisomy",{method:"POST",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)},data:r}));case 1:case"end":return e.stop()}},s)})),B.apply(this,arguments)}},70594:function(L,p,t){"use strict";t.d(p,{L:function(){return a}});var a=function(){var m=new Date;m.setDate(-30),m.setUTCHours(0,0,0,0);var o=new Date;return o.setUTCHours(23,59,59,999),{start:m.toISOString(),end:o.toISOString()}}}}]);
