(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[992],{34540:function(C,c,t){"use strict";var e=t(28991),d=t(81253),p=t(85893),l=t(86190),v=t(67294),u=t(66758),O=t(88305),T=["fieldProps","proFieldProps"],P="dateRange",h=v.forwardRef(function(g,i){var _=g.fieldProps,m=g.proFieldProps,E=(0,d.Z)(g,T),A=(0,v.useContext)(u.Z);return(0,p.jsx)(O.Z,(0,e.Z)({ref:i,fieldProps:(0,e.Z)({getPopupContainer:A.getPopupContainer},_),valueType:P,proFieldProps:m,filedConfig:{valueType:P,lightFilterLabelFormatter:function(R){return(0,l.Z)(R,(_==null?void 0:_.format)||"YYYY-MM-DD")}}},E))});c.Z=h},5966:function(C,c,t){"use strict";var e=t(28991),d=t(81253),p=t(85893),l=t(88305),v=["fieldProps","proFieldProps"],u=["fieldProps","proFieldProps"],O="text",T=function(i){var _=i.fieldProps,m=i.proFieldProps,E=(0,d.Z)(i,v);return(0,p.jsx)(l.Z,(0,e.Z)({valueType:O,fieldProps:_,filedConfig:{valueType:O},proFieldProps:m},E))},P=function(i){var _=i.fieldProps,m=i.proFieldProps,E=(0,d.Z)(i,u);return(0,p.jsx)(l.Z,(0,e.Z)({valueType:"password",fieldProps:_,proFieldProps:m,filedConfig:{valueType:O}},E))},h=T;h.Password=P,h.displayName="ProFormComponent",c.Z=h},40321:function(C){C.exports={main:"main___v2Z5L",headerList:"headerList___Mnegm",stepDescription:"stepDescription___4Ib3o",pageHeader:"pageHeader___B__A4",moreInfo:"moreInfo___3RsSn"}},36495:function(C,c,t){"use strict";t.d(c,{O:function(){return e}});var e={PHONE:576,LARGE_PHONE:768,TABLET:992,LARGE_TABLET:1200,DESKTOP:1520},d={PHONE_UP:"@media only screen and (min-width: ".concat(e.PHONE,"px)"),LARGE_PHONE_UP:"@media only screen and (min-width: ".concat(e.LARGE_PHONE,"px)"),TABLET_UP:"@media only screen and (min-width: ".concat(e.TABLET,"px)"),LARGE_TABLET_UP:"@media only screen and (min-width: ".concat(e.LARGE_TABLET,"px)"),DESKTOP_UP:"@media only screen and (min-width: ".concat(e.DESKTOP,"px)")}},78418:function(C,c,t){"use strict";t.r(c);var e=t(58024),d=t(91894),p=t(8963),l=t(42020),v=t(57663),u=t(71577),O=t(34792),T=t(48086),P=t(71194),h=t(48889),g=t(9715),i=t(16579),_=t(2824),m=t(20310),E=t(47957),A=t(57119),F=t(76570),R=t(1977),b=t(34540),I=t(5966),o=t(85296),r=t(21349),x=t(30381),a=t.n(x),M=t(67294),B=t(12788),U=t(13752),j=t(73727),Z=t(74622),y=t(40321),G=t.n(y),Y=t(36495),n=t(85893),$,tt=B.ZP.div($||($=(0,m.Z)([`
  margin-bottom: 24px;
  display: flex;
  justify-content: space-between;
  gap: 24px;
  flex-wrap: wrap;
  align-items: center;

  & > div {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    #search-button,
    label[for='filter-form_fullName'] {
      margin-left: 16px;
    }
    .ant-form-item {
      margin-bottom: 0;
    }
    @media (max-width: `,`px) {
      .ant-form-item {
        margin-bottom: 24px !important;
      }
      #search-button,
      label[for='filter-form_fullName'] {
        margin-left: 0;
      }
    }
  }
  @media (max-width: `,`px) {
    flex-direction: column-reverse;
    gap: 24px;
    align-items: end !important;
    .action-cell {
      display: flex;
    }
  }
`])),Y.O.PHONE,Y.O.PHONE),z=function(S){return S.map(function(D){return{key:D.id,patientId:D.id,name:D.fullName,dateOfBirth:D.dateOfBirth,address:D.address,action:D}})},et=function(){var S=(0,E.Z)(),D=S.run,nt=S.isLoading,V=(0,E.Z)(),st=V.run,Pt=V.isLoading,rt=(0,M.useState)([]),k=(0,_.Z)(rt,2),it=k[0],X=k[1],ot=(0,M.useState)(0),Q=(0,_.Z)(ot,2),lt=Q[0],J=Q[1],_t=(0,M.useState)(0),w=(0,_.Z)(_t,2),N=w[0],dt=w[1],ct=i.Z.useForm(),pt=(0,_.Z)(ct,1),K=pt[0],H=(0,M.useCallback)(function(){var f=K.getFieldValue("dateRange"),s=K.getFieldValue("fullName"),L=f[0],W=f[1];D((0,Z.sH)({page:N,startDate:L,endDate:W,fullName:s})).then(function(q){X(z(q.results)),J(q.total)})},[N,K]);(0,M.useEffect)(function(){H()},[N,H]);var ut=function(s){h.Z.confirm({title:"X\xE1c nh\u1EADn",icon:(0,n.jsx)(A.Z,{"data-inspector-line":"92","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx"}),content:"B\u1EA1n c\xF3 ch\u1EAFc l\xE0 mu\u1ED1n x\xF3a b\u1EC7nh nh\xE2n ".concat(s.fullName," ch\u1EE9?"),okText:"C\xF3",cancelText:"Kh\xF4ng",onOk:function(){st((0,Z.hT)(s.id)).then(function(W){T.ZP.success("X\xF3a b\u1EC7nh nh\xE2n th\xE0nh c\xF4ng!"),console.log(W),H()})}})},mt=[{title:"STT",dataIndex:"key",key:"key",width:60,render:function(s,L,W){return W+1}},{key:"patientId",title:"M\xE3 b\u1EC7nh nh\xE2n",width:150,dataIndex:"patientId"},{title:"H\u1ECD v\xE0 t\xEAn",dataIndex:"name",key:"name"},{title:"\u0110\u1ECBa ch\u1EC9",dataIndex:"address",key:"address"},{key:"dateOfBirth",title:"Ng\xE0y sinh",dataIndex:"dateOfBirth",render:function(s){return a()(s).format("DD-MM-YYYY")}},{title:"H\xE0nh \u0111\u1ED9ng",dataIndex:"action",key:"action",render:function(s){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{"data-inspector-line":"145","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx",className:"action-cell",children:[(0,n.jsx)("span",{"data-inspector-line":"146","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",style:{cursor:"pointer",color:"var(--ant-primary-color)"},onClick:function(){U.m8.push("/patients/".concat(s.id))},children:"Ph\xE2n t\xEDch"}),(0,n.jsx)(j.rU,{"data-inspector-line":"154","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",to:"/patients/".concat(s.id,"/edit"),style:{marginLeft:8,cursor:"pointer",color:"var(--ant-primary-color)"},children:"S\u1EEDa"}),(0,n.jsx)("span",{"data-inspector-line":"160","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",onClick:function(){return ut(s)},style:{marginLeft:8,color:"red",cursor:"pointer"},children:"X\xF3a"})," "]})})}}],Et=function(){K.validateFields().then(function(s){D((0,Z.sH)({page:N,startDate:s.dateRange[0],endDate:s.dateRange[1],fullName:s.fullName})).then(function(L){X(z(L.results)),J(L.total)})}).catch(function(s){console.log("Validate Failed:",s)})};return(0,n.jsx)(o.ZP,{"data-inspector-line":"195","data-inspector-column":"4","data-inspector-relative-path":"src/pages/patients/list/index.tsx",children:(0,n.jsx)("div",{"data-inspector-line":"196","data-inspector-column":"6","data-inspector-relative-path":"src/pages/patients/list/index.tsx",className:G().main,children:(0,n.jsx)(r.Z,{"data-inspector-line":"197","data-inspector-column":"8","data-inspector-relative-path":"src/pages/patients/list/index.tsx",children:(0,n.jsxs)(d.Z,{"data-inspector-line":"198","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/index.tsx",className:G().tabsCard,bordered:!1,children:[(0,n.jsx)(i.Z,{"data-inspector-line":"199","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx",name:"filter-form",form:K,initialValues:{dateRange:Z.Zk,fullName:""},children:(0,n.jsxs)(tt,{"data-inspector-line":"207","data-inspector-column":"14","data-inspector-relative-path":"src/pages/patients/list/index.tsx",children:[(0,n.jsxs)("div",{"data-inspector-line":"208","data-inspector-column":"16","data-inspector-relative-path":"src/pages/patients/list/index.tsx",id:"filter-wrapper",children:[(0,n.jsx)(b.Z,{"data-inspector-line":"209","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/index.tsx",name:"dateRange",label:"L\u1ECDc theo ng\xE0y",placeholder:["T\u1EEB ng\xE0y","\u0110\u1EBFn ng\xE0y"]}),(0,n.jsx)(I.Z,{"data-inspector-line":"214","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/index.tsx",name:"fullName",id:"name-input",label:"L\u1ECDc theo t\xEAn",placeholder:"L\u1ECDc theo t\xEAn"}),(0,n.jsx)(u.Z,{"data-inspector-line":"221","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/index.tsx",type:"primary",id:"search-button",icon:(0,n.jsx)(F.Z,{"data-inspector-line":"224","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/index.tsx"}),onClick:Et,children:"T\xECm ki\u1EBFm"})]}),(0,n.jsx)(u.Z,{"data-inspector-line":"230","data-inspector-column":"16","data-inspector-relative-path":"src/pages/patients/list/index.tsx",type:"primary",icon:(0,n.jsx)(R.Z,{"data-inspector-line":"232","data-inspector-column":"24","data-inspector-relative-path":"src/pages/patients/list/index.tsx"}),onClick:function(){U.m8.push("/patients/add")},children:"Th\xEAm thai ph\u1EE5"})]})}),(0,n.jsx)(l.Z,{"data-inspector-line":"241","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/index.tsx",pagination:{position:["bottomRight"],total:lt,pageSize:10,onChange:function(s){dt(s-1)}},loading:nt,dataSource:it,columns:mt})]})})})})};c.default=et},74622:function(C,c,t){"use strict";t.d(c,{Zk:function(){return P},sH:function(){return g},zn:function(){return _},dG:function(){return E},hT:function(){return F},Y0:function(){return b}});var e=t(39428),d=t(3182),p=t(28604),l=t(42174),v=t(70594),u=t(63305),O=t(30381),T=t.n(O),P=[(0,v.L)().start,(0,v.L)().end],h=10;function g(o){return i.apply(this,arguments)}function i(){return i=(0,d.Z)((0,e.Z)().mark(function o(r){var x,a,M,B,U,j;return(0,e.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return x=r.page,a=r.startDate,M=a===void 0?P[0]:a,B=r.endDate,U=B===void 0?P[1]:B,j=r.fullName,y.abrupt("return",(0,l.Z)("/patients",{headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)},params:{page:x,fullName:j,limit:h,startDate:T()(M).startOf("day").toISOString(),endDate:T()(U).endOf("day").toISOString()},method:"GET"}));case 2:case"end":return y.stop()}},o)})),i.apply(this,arguments)}function _(o){return m.apply(this,arguments)}function m(){return m=(0,d.Z)((0,e.Z)().mark(function o(r){return(0,e.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.Z)("/patients/"+r));case 1:case"end":return a.stop()}},o)})),m.apply(this,arguments)}function E(o){return A.apply(this,arguments)}function A(){return A=(0,d.Z)((0,e.Z)().mark(function o(r){return(0,e.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.Z)((0,p.pn)(r.testName,r.testId,r.patientId),{data:r,method:"DELETE",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)}}));case 1:case"end":return a.stop()}},o)})),A.apply(this,arguments)}function F(o){return R.apply(this,arguments)}function R(){return R=(0,d.Z)((0,e.Z)().mark(function o(r){return(0,e.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.Z)("/patients/"+r,{method:"DELETE",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)}}));case 1:case"end":return a.stop()}},o)})),R.apply(this,arguments)}function b(o){return I.apply(this,arguments)}function I(){return I=(0,d.Z)((0,e.Z)().mark(function o(r){return(0,e.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.Z)("/patients/predict-thalassemia",{method:"POST",headers:{Authorization:"Bearer ".concat(u.Z.get().accessToken)},data:r}));case 1:case"end":return a.stop()}},o)})),I.apply(this,arguments)}},70594:function(C,c,t){"use strict";t.d(c,{L:function(){return e}});var e=function(){var p=new Date;p.setDate(-30),p.setUTCHours(0,0,0,0);var l=new Date;return l.setUTCHours(23,59,59,999),{start:p.toISOString(),end:l.toISOString()}}}}]);
