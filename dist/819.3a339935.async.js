(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[819],{40321:function(M){M.exports={main:"main___v2Z5L",headerList:"headerList___Mnegm",stepDescription:"stepDescription___4Ib3o",pageHeader:"pageHeader___B__A4",moreInfo:"moreInfo___3RsSn"}},36495:function(M,E,t){"use strict";t.d(E,{O:function(){return s}});var s={PHONE:576,LARGE_PHONE:768,TABLET:992,LARGE_TABLET:1200,DESKTOP:1520},v={PHONE_UP:"@media only screen and (min-width: ".concat(s.PHONE,"px)"),LARGE_PHONE_UP:"@media only screen and (min-width: ".concat(s.LARGE_PHONE,"px)"),TABLET_UP:"@media only screen and (min-width: ".concat(s.TABLET,"px)"),LARGE_TABLET_UP:"@media only screen and (min-width: ".concat(s.LARGE_TABLET,"px)"),DESKTOP_UP:"@media only screen and (min-width: ".concat(s.DESKTOP,"px)")}},62819:function(M,E,t){"use strict";t.r(E);var s=t(20310),v=t(58024),g=t(91894),h=t(8963),Z=t(42020),j=t(9715),z=t(16579),X=t(13062),f=t(71230),J=t(89032),A=t(15746),K=t(63185),T=t(9676),W=t(98858),p=t(4914),D=t(39428),b=t(3182),N=t(57663),l=t(71577),d=t(34792),O=t(48086),i=t(71194),F=t(48889),L=t(93224),m=t(11849),I=t(2824),S=t(32059),R=t(95300),w=t(7277),V=t(57117),C=t(28604),q=t(47957),tt=t(74622),pt=t(57119),ut=t(49101),et=t(25240),mt=t(95357),at=t(952),nt=t(90672),Et=t(64317),ht=t(85296),Dt=t(21349),Pt=t(30381),st=t.n(Pt),B=t(67294),it=t(13752),vt=t(43934),gt=t(40321),G=t.n(gt),Ot=t(12788),xt=t(36495),e=t(85893),rt,Tt=["blood_test","hemoglobin_test","serum_iron_test"],yt=function(P){return P.map(function(_){return{key:_.id,testId:_.id,testName:_.test_name,createdDate:st()(Number(_.test_date)).format("DD-MM-YYYY"),action:_}})},Ft=(0,e.jsxs)("div",{"data-inspector-line":"49","data-inspector-column":"2","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",className:G().moreInfo,children:[(0,e.jsx)(w.Z,{"data-inspector-line":"50","data-inspector-column":"4","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",title:"Ng\xE0y \u0111\u0103ng k\xFD kh\xE1m",value:"NaN"}),(0,e.jsx)(w.Z,{"data-inspector-line":"51","data-inspector-column":"4","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",style:{marginLeft:8},title:"Ng\xE0y kh\xE1m g\u1EA7n nh\u1EA5t",value:"NaN"})]}),Mt=[{key:"tab1",tab:"X\xE9t nghi\u1EC7m"},{key:"tab2",tab:"Thai nhi"}],ft=function(P,_){return P.find(function(U){return U.testName===_}).action},At=function(P){var _,U=(_={},(0,S.Z)(_,C.XH.BLOOD_TEST,"INPUT_BLOOD_TEST_RESULT"),(0,S.Z)(_,C.XH.SERUM_IRON_TEST,"INPUT_SERUM_IRON_TEST_RESULT"),(0,S.Z)(_,C.XH.HEMOGLOBIN_TEST,"INPUT_HEMOGLOBIN_TEST_RESULT"),_);return U[P]};function Lt(){var H=(0,B.useState)({operationKey:"tab1",tabActiveKey:"detail"}),P=(0,I.Z)(H,2),_=P[0],U=P[1],Rt=(0,B.useState)(null),ot=(0,I.Z)(Rt,2),u=ot[0],lt=ot[1],_t=(0,q.Z)(),Ct=_t.run,ct=_t.isLoading,dt=(0,q.Z)(),Bt=dt.run,Ut=dt.isLoading,$=(0,it.I0)(),Y=(0,B.useRef)(),Zt=(0,vt.UO)(),y=Zt.patientId,jt=function(a){U((0,m.Z)((0,m.Z)({},_),{},{operationKey:a}))},Q=(0,B.useCallback)(function(){Ct((0,tt.zn)(y)).then(function(c){console.log(c);var a=c.blood_test,r=c.hemoglobin_test,n=c.serum_iron_test,x=(0,L.Z)(c,Tt),o=[];a&&o.push(a),r&&o.push(r),n&&o.push(c.serum_iron_test),lt((0,m.Z)((0,m.Z)({},x),{},{tests:yt(o)}))})},[y]);(0,B.useEffect)(function(){y&&Q()},[y]);var Kt=[{title:"STT",dataIndex:"index",key:"index",render:function(a,r,n){return n+1}},{title:"T\xEAn x\xE9t nghi\u1EC7m",dataIndex:"testName",key:"testName",render:function(a,r,n){return(0,C.jw)(a)}},{title:"Ng\xE0y th\xEAm x\xE9t nghi\u1EC7m",dataIndex:"createdDate",key:"name"},{title:"H\xE0nh \u0111\u1ED9ng",dataIndex:"action",key:"action",render:function(a){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{"data-inspector-line":"152","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",style:{marginLeft:8,cursor:"pointer",color:"var(--ant-primary-color)"},onClick:function(){var n=ft(u.tests,a.test_name);n.test_date=st()(Number(n.test_date)),console.log(n),$({type:"modal/showModal",payload:{modalKey:At(a.test_name),customProps:{patientDetail:u,editingData:n,getPatientDetail:function(){Q()}}}})},children:"S\u1EEDa"}),(0,e.jsx)("span",{"data-inspector-line":"176","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",onClick:function(){return Wt(a)},style:{marginLeft:8,color:"red",cursor:"pointer"},children:"X\xF3a"})]})}}],Wt=function(a){F.Z.confirm({title:"X\xE1c nh\u1EADn",icon:(0,e.jsx)(pt.Z,{"data-inspector-line":"191","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx"}),content:"B\u1EA1n c\xF3 ch\u1EAFc l\xE0 mu\u1ED1n x\xF3a k\u1EBFt qu\u1EA3 ".concat((0,C.jw)(a.test_name)," ng\xE0y ch\u1EE9?"),okText:"C\xF3",cancelText:"Kh\xF4ng",onOk:function(){var n=a.test_name;Bt((0,tt.dG)({patientId:y,testName:n})).then(function(){O.ZP.success("X\xF3a k\u1EBFt qu\u1EA3 ".concat(n," th\xE0nh c\xF4ng!")),lt(function(x){var o,k=x.tests;return((o=k)===null||o===void 0?void 0:o.length)>0&&(k=k.filter(function(Nt){return Nt.test_name!==n})),(0,m.Z)((0,m.Z)({},x),{},{tests:k})})})}})},bt={tab1:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(It,{"data-inspector-line":"219","data-inspector-column":"8","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",children:[(0,e.jsxs)(l.Z,{"data-inspector-line":"220","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",className:"ai-diagnosis-button",type:"primary",style:{marginBottom:24},onClick:function(){$({type:"modal/showModal",payload:{modalKey:V.$.ADD_TEST_RESULT,customProps:{patientDetail:u,getPatientDetail:Q}}})},children:[(0,e.jsx)(ut.Z,{"data-inspector-line":"237","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx"}),"Th\xEAm x\xE9t nghi\u1EC7m"]}),(0,e.jsxs)(l.Z,{"data-inspector-line":"240","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",className:"ai-diagnosis-button",type:"primary",style:{marginBottom:24,marginLeft:8},onClick:function(){$({type:"modal/showModal",payload:{modalKey:V.$.GENERAL_INFO,customProps:{footer:null,body:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(at.ZP,{"data-inspector-line":"253","data-inspector-column":"24","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",name:"validate_other",initialValues:{doctor_selection:"trisomy21"},onValuesChange:function(r,n){console.log(n)},formRef:Y,onFinish:function(){var a=(0,b.Z)((0,D.Z)().mark(function r(n){return(0,D.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",console.log(n));case 1:case"end":return o.stop()}},r)}));return function(r){return a.apply(this,arguments)}}(),submitter:{render:function(){return null}},children:[(0,e.jsxs)(p.Z,{"data-inspector-line":"265","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",layout:"horizontal",style:{marginBottom:16},children:[(0,e.jsx)(p.Z.Item,{"data-inspector-line":"266","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"trisomy 21",children:"0.32"}),(0,e.jsx)(p.Z.Item,{"data-inspector-line":"267","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"trisomy 18",children:"0.44"}),(0,e.jsx)(p.Z.Item,{"data-inspector-line":"268","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"trisomy 13",children:"0.2"})]}),(0,e.jsxs)("div",{"data-inspector-line":"270","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",style:{marginBottom:16},children:[(0,e.jsx)("p",{"data-inspector-line":"271","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",children:"K\u1EBFt lu\u1EADn c\u1EE7a b\xE1c s\u0129"}),(0,e.jsx)(z.Z.Item,{"data-inspector-line":"272","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",name:"diseaseName",children:(0,e.jsx)(T.Z.Group,{"data-inspector-line":"273","data-inspector-column":"30","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",children:(0,e.jsxs)(f.Z,{"data-inspector-line":"274","data-inspector-column":"32","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",children:[(0,e.jsx)(A.Z,{"data-inspector-line":"275","data-inspector-column":"34","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",span:8,children:(0,e.jsx)(T.Z,{"data-inspector-line":"276","data-inspector-column":"36","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",value:"trisomy21",style:{lineHeight:"32px"},children:"Trisomy 21"})}),(0,e.jsx)(A.Z,{"data-inspector-line":"280","data-inspector-column":"34","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",span:8,children:(0,e.jsx)(T.Z,{"data-inspector-line":"281","data-inspector-column":"36","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",value:"trisomy18",style:{lineHeight:"32px"},children:"Trisomy 18"})}),(0,e.jsx)(A.Z,{"data-inspector-line":"285","data-inspector-column":"34","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",span:8,children:(0,e.jsx)(T.Z,{"data-inspector-line":"286","data-inspector-column":"36","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",value:"trisomy13",style:{lineHeight:"32px"},children:"Trisomy 13"})})]})})})]}),(0,e.jsx)(nt.Z,{"data-inspector-line":"294","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"Ch\u1EA9n \u0111o\xE1n c\u1EE7a b\xE1c s\u1EF9",name:"doctorComment",placeholder:"Nh\u1EADp ch\u1EA9n \u0111o\xE1n c\u1EE7a b\xE1c s\u1EF9"}),(0,e.jsx)(l.Z,{"data-inspector-line":"299","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",type:"primary",onClick:function(){var r;(r=Y.current)===null||r===void 0||r.validateFields().then(function(n){console.log(n)})},children:"L\u01B0u k\u1EBFt qu\u1EA3"})]})})}}})},children:[(0,e.jsx)(et.Z,{"data-inspector-line":"317","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx"}),"AI ch\u1EA9n \u0111o\xE1n Thalassemia"]}),(0,e.jsxs)(l.Z,{"data-inspector-line":"320","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",className:"ai-diagnosis-button",type:"primary",style:{marginBottom:24,marginLeft:8},onClick:function(){$({type:"modal/showModal",payload:{modalKey:V.$.GENERAL_INFO,customProps:{body:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(at.ZP,{"data-inspector-line":"332","data-inspector-column":"24","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",readonly:!1,name:"validate_other",initialValues:{doctor_selection:"trisomy21"},formRef:Y,onFinish:function(){var a=(0,b.Z)((0,D.Z)().mark(function r(n){return(0,D.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",console.log(n));case 1:case"end":return o.stop()}},r)}));return function(r){return a.apply(this,arguments)}}(),submitter:{render:function(){return null}},children:[(0,e.jsxs)(p.Z,{"data-inspector-line":"347","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",layout:"vertical",style:{marginBottom:16},children:[(0,e.jsx)(p.Z.Item,{"data-inspector-line":"348","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"trisomy 21",children:"0.32"}),(0,e.jsx)(p.Z.Item,{"data-inspector-line":"349","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"trisomy 18",children:"0.44"}),(0,e.jsx)(p.Z.Item,{"data-inspector-line":"350","data-inspector-column":"28","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"trisomy 13",children:"0.2"})]}),(0,e.jsx)(Et.Z,{"data-inspector-line":"352","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"K\u1EBFt lu\u1EADn c\u1EE7a b\xE1c s\u0129",name:"doctor_selection",options:[{label:"Trisomy 21",value:"trisomy21"},{label:"Trisomy 18",value:"trisomy18"},{label:"Trisomy 13",value:"trisomy13"}],placeholder:"Nh\u1EADp ngh\u1EC1 nghi\u1EC7p"}),(0,e.jsx)(nt.Z,{"data-inspector-line":"374","data-inspector-column":"26","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",label:"Ch\u1EA9n \u0111o\xE1n c\u1EE7a b\xE1c s\u1EF9",name:"invoiceType",placeholder:"Nh\u1EADp ch\u1EA9n \u0111o\xE1n c\u1EE7a b\xE1c s\u1EF9"})]})})}}})},children:[(0,e.jsx)(et.Z,{"data-inspector-line":"387","data-inspector-column":"12","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx"}),"AI ch\u1EA9n \u0111o\xE1n Trisomy"]})]}),(0,e.jsx)(Z.Z,{"data-inspector-line":"391","data-inspector-column":"8","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",loading:ct||Ut,dataSource:(u==null?void 0:u.tests)||[],columns:Kt,pagination:{position:["bottomRight"]}})]}),tab2:(0,e.jsx)(e.Fragment,{children:"sdf"}),tab3:(0,e.jsx)(e.Fragment,{children:"sdf"})};return ct||!u?(0,e.jsx)(e.Fragment,{children:"Loading..."}):(0,e.jsx)(ht.ZP,{"data-inspector-line":"414","data-inspector-column":"4","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",title:"B\u1EC7nh nh\xE2n \uFF1A".concat(u==null?void 0:u.fullName),className:G().pageHeader,extra:[(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(l.Z,{"data-inspector-line":"421","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",style:{display:"flex",alignItems:"center",padding:0},type:"link",onClick:function(){it.m8.push("/patients/".concat(y,"/view"))},icon:(0,e.jsx)(mt.Z,{"data-inspector-line":"427","data-inspector-column":"18","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",style:{fontSize:24}}),children:"Chi ti\u1EBFt"})})],children:(0,e.jsx)("div",{"data-inspector-line":"434","data-inspector-column":"6","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",className:G().main,children:(0,e.jsx)(Dt.Z,{"data-inspector-line":"435","data-inspector-column":"8","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",children:(0,e.jsx)(g.Z,{"data-inspector-line":"436","data-inspector-column":"10","data-inspector-relative-path":"src/pages/patients/list/PatientDetail.tsx",className:G().tabsCard,bordered:!1,tabList:Mt,onTabChange:jt,children:bt[_.operationKey]})})})})}E.default=Lt;var It=Ot.ZP.div(rt||(rt=(0,s.Z)([`
  display: flex;
  flex-wrap: wrap;
  @media (max-width: `,`px) {
    .ai-diagnosis-button {
      margin-left: 0 !important;
    }
  }
`])),xt.O.PHONE)},74622:function(M,E,t){"use strict";t.d(E,{Zk:function(){return f},sH:function(){return A},zn:function(){return T},dG:function(){return p},hT:function(){return b}});var s=t(39428),v=t(3182),g=t(28604),h=t(42174),Z=t(70594),j=t(63305),z=t(30381),X=t.n(z),f=[(0,Z.L)().start,(0,Z.L)().end],J=10;function A(l){return K.apply(this,arguments)}function K(){return K=(0,v.Z)((0,s.Z)().mark(function l(d){var O,i,F,L,m,I;return(0,s.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return O=d.page,i=d.startDate,F=i===void 0?f[0]:i,L=d.endDate,m=L===void 0?f[1]:L,I=d.fullName,R.abrupt("return",(0,h.Z)("/patients",{headers:{Authorization:"Bearer ".concat(j.Z.get().accessToken)},params:{page:O,fullName:I,limit:J,startDate:X()(F).startOf("day").toISOString(),endDate:X()(m).endOf("day").toISOString()},method:"GET"}));case 2:case"end":return R.stop()}},l)})),K.apply(this,arguments)}function T(l){return W.apply(this,arguments)}function W(){return W=(0,v.Z)((0,s.Z)().mark(function l(d){return(0,s.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.Z)("/patients/"+d));case 1:case"end":return i.stop()}},l)})),W.apply(this,arguments)}function p(l){return D.apply(this,arguments)}function D(){return D=(0,v.Z)((0,s.Z)().mark(function l(d){return(0,s.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.Z)((0,g.T$)(d.testName,d.patientId),{data:d,method:"DELETE",headers:{Authorization:"Bearer ".concat(j.Z.get().accessToken)}}));case 1:case"end":return i.stop()}},l)})),D.apply(this,arguments)}function b(l){return N.apply(this,arguments)}function N(){return N=(0,v.Z)((0,s.Z)().mark(function l(d){return(0,s.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,h.Z)("/patients/"+d,{method:"DELETE",headers:{Authorization:"Bearer ".concat(j.Z.get().accessToken)}}));case 1:case"end":return i.stop()}},l)})),N.apply(this,arguments)}},70594:function(M,E,t){"use strict";t.d(E,{L:function(){return s}});var s=function(){var g=new Date;g.setDate(-30),g.setUTCHours(0,0,0,0);var h=new Date;return h.setUTCHours(23,59,59,999),{start:g.toISOString(),end:h.toISOString()}}}}]);
