(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[137],{34540:function(T,m,e){"use strict";var i=e(28991),u=e(81253),D=e(85893),x=e(86190),O=e(67294),g=e(66758),P=e(93117),Z=["fieldProps","proFieldProps"],C="dateRange",v=O.forwardRef(function(E,d){var o=E.fieldProps,h=E.proFieldProps,p=(0,u.Z)(E,Z),I=(0,O.useContext)(g.Z);return(0,D.jsx)(P.Z,(0,i.Z)({ref:d,fieldProps:(0,i.Z)({getPopupContainer:I.getPopupContainer},o),valueType:C,proFieldProps:h,filedConfig:{valueType:C,lightFilterLabelFormatter:function(S){return(0,x.Z)(S,(o==null?void 0:o.format)||"YYYY-MM-DD")}}},p))});m.Z=v},5966:function(T,m,e){"use strict";var i=e(28991),u=e(81253),D=e(85893),x=e(93117),O=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],P="text",Z=function(d){var o=d.fieldProps,h=d.proFieldProps,p=(0,u.Z)(d,O);return(0,D.jsx)(x.Z,(0,i.Z)({valueType:P,fieldProps:o,filedConfig:{valueType:P},proFieldProps:h},p))},C=function(d){var o=d.fieldProps,h=d.proFieldProps,p=(0,u.Z)(d,g);return(0,D.jsx)(x.Z,(0,i.Z)({valueType:"password",fieldProps:o,proFieldProps:h,filedConfig:{valueType:P}},p))},v=Z;v.Password=C,v.displayName="ProFormComponent",m.Z=v},27428:function(T){T.exports={main:"main___3vk7l",headerList:"headerList___XMTEq",stepDescription:"stepDescription___261Kl",pageHeader:"pageHeader___3c_bR",moreInfo:"moreInfo___Kam62"}},36495:function(T,m,e){"use strict";e.d(m,{O:function(){return i}});var i={PHONE:576,LARGE_PHONE:768,TABLET:992,LARGE_TABLET:1200,DESKTOP:1520},u={PHONE_UP:"@media only screen and (min-width: ".concat(i.PHONE,"px)"),LARGE_PHONE_UP:"@media only screen and (min-width: ".concat(i.LARGE_PHONE,"px)"),TABLET_UP:"@media only screen and (min-width: ".concat(i.TABLET,"px)"),LARGE_TABLET_UP:"@media only screen and (min-width: ".concat(i.LARGE_TABLET,"px)"),DESKTOP_UP:"@media only screen and (min-width: ".concat(i.DESKTOP,"px)")}},56980:function(T,m,e){"use strict";e.r(m),e.d(m,{default:function(){return Ee}});var i=e(58024),u=e(91894),D=e(8963),x=e(42020),O=e(57663),g=e(71577),P=e(34792),Z=e(48086),C=e(71194),v=e(48889),E=e(9715),d=e(16579),o=e(2824),h=e(20310),p=e(47957),I=e(57119),V=e(76570),S=e(1977),oe=e(34540),le=e(5966),de=e(4771),ce=e(21349),me=e(30381),b=e.n(me),L=e(67294),pe=e(12788),ue=e(73727),ve=e(13752),M=e(39428),X=e(3182),Ae=e(28604),Q=e(74011),J=e(70594),w=e(63305),K=[(0,J.L)().start,(0,J.L)().end],he=10;function k(l){return U.apply(this,arguments)}function U(){return U=(0,X.Z)((0,M.Z)().mark(function l(r){var s,a,F,R,Y,B;return(0,M.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=r.page,a=r.startDate,F=a===void 0?K[0]:a,R=r.endDate,Y=R===void 0?K[1]:R,B=r.fullName,y.abrupt("return",(0,Q.Z)("/patients",{headers:{Authorization:"Bearer ".concat(w.Z.get().accessToken)},params:{page:s,fullName:B,limit:he,startDate:b()(F).startOf("day").toISOString(),endDate:b()(Y).endOf("day").toISOString()},method:"GET"}));case 2:case"end":return y.stop()}},l)})),U.apply(this,arguments)}function je(l){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function l(r){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/patients/"+r));case 1:case"end":return a.stop()}},l)})),W.apply(this,arguments)}function Me(l){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function l(r){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request(getCreateDeleteTestResultEndpoint(r.testName,r.patientId),{data:r,method:"DELETE",headers:{Authorization:"Bearer ".concat(token.get().accessToken)}}));case 1:case"end":return a.stop()}},l)})),G.apply(this,arguments)}function fe(l){return H.apply(this,arguments)}function H(){return H=(0,X.Z)((0,M.Z)().mark(function l(r){return(0,M.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,Q.Z)("/patients/"+r,{method:"DELETE",headers:{Authorization:"Bearer ".concat(w.Z.get().accessToken)}}));case 1:case"end":return a.stop()}},l)})),H.apply(this,arguments)}var xe=e(27428),q=e.n(xe),_=e(36495),t=e(85893),ee,ge=pe.ZP.div(ee||(ee=(0,h.Z)([`
  margin-bottom: 24px;
  display: flex;
  justify-content: space-between;
  gap: 24px;
  flex-wrap: wrap;
  align-items: center;

  & > div {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    #search-button,
    label[for='filter-form_fullName'] {
      margin-left: 16px;
    }
    .ant-form-item {
      margin-bottom: 0;
    }
    @media (max-width: `,`px) {
      .ant-form-item {
        margin-bottom: 24px !important;
      }
      #search-button,
      label[for='filter-form_fullName'] {
        margin-left: 0;
      }
    }
  }
  @media (max-width: `,`px) {
    flex-direction: column-reverse;
    gap: 24px;
    align-items: end !important;
    .action-cell {
      display: flex;
    }
  }
`])),_.O.PHONE,_.O.PHONE),te=function(r){return r.map(function(s){return{key:s.id,patientId:s.id,name:s.fullName,dateOfBirth:s.dateOfBirth,address:s.address,action:s}})},Pe=function(){var r=(0,p.Z)(),s=r.run,a=r.isLoading,F=(0,p.Z)(),R=F.run,Y=F.isLoading,B=(0,L.useState)([]),$=(0,o.Z)(B,2),y=$[0],ae=$[1],ye=(0,L.useState)(0),ne=(0,o.Z)(ye,2),Te=ne[0],re=ne[1],De=(0,L.useState)(0),se=(0,o.Z)(De,2),N=se[0],Oe=se[1],Ze=d.Z.useForm(),Ce=(0,o.Z)(Ze,1),A=Ce[0],z=(0,L.useCallback)(function(){var c=A.getFieldValue("dateRange"),n=A.getFieldValue("fullName"),f=c[0],j=c[1];s(k({page:N,startDate:f,endDate:j,fullName:n})).then(function(ie){ae(te(ie.results)),re(ie.total)})},[N,A]);(0,L.useEffect)(function(){z()},[N,z]);var Le=function(n){v.Z.confirm({title:"X\xE1c nh\u1EADn",icon:(0,t.jsx)(I.Z,{"data-inspector-line":"92","data-inspector-column":"12","data-inspector-relative-path":"src/pages/members/list/index.tsx"}),content:"B\u1EA1n c\xF3 ch\u1EAFc l\xE0 mu\u1ED1n x\xF3a b\u1EC7nh nh\xE2n ".concat(n.fullName," ch\u1EE9?"),okText:"C\xF3",cancelText:"Kh\xF4ng",onOk:function(){R(fe(n.id)).then(function(j){Z.ZP.success("X\xF3a b\u1EC7nh nh\xE2n th\xE0nh c\xF4ng!"),console.log(j),z()})}})},Fe=[{title:"STT",dataIndex:"key",key:"key",width:60,render:function(n,f,j){return j+1}},{key:"patientId",title:"M\xE3 b\u1EC7nh nh\xE2n",width:150,dataIndex:"patientId"},{title:"H\u1ECD v\xE0 t\xEAn",dataIndex:"name",key:"name"},{title:"\u0110\u1ECBa ch\u1EC9",dataIndex:"address",key:"address"},{key:"dateOfBirth",title:"Ng\xE0y sinh",dataIndex:"dateOfBirth",render:function(n){return b()(n).format("DD-MM-YYYY")}},{title:"H\xE0nh \u0111\u1ED9ng",dataIndex:"action",key:"action",render:function(n){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{"data-inspector-line":"145","data-inspector-column":"12","data-inspector-relative-path":"src/pages/members/list/index.tsx",className:"action-cell",children:[(0,t.jsx)("span",{"data-inspector-line":"146","data-inspector-column":"14","data-inspector-relative-path":"src/pages/members/list/index.tsx",style:{cursor:"pointer",color:"var(--ant-primary-color)"},children:"Chi ti\u1EBFt"}),(0,t.jsx)(ue.rU,{"data-inspector-line":"147","data-inspector-column":"14","data-inspector-relative-path":"src/pages/members/list/index.tsx",to:"/patients/".concat(n.id,"/edit"),style:{marginLeft:8,cursor:"pointer",color:"var(--ant-primary-color)"},children:"S\u1EEDa"}),(0,t.jsx)("span",{"data-inspector-line":"153","data-inspector-column":"14","data-inspector-relative-path":"src/pages/members/list/index.tsx",onClick:function(){return Le(n)},style:{marginLeft:8,color:"red",cursor:"pointer"},children:"X\xF3a"})," "]})})}}],Re=function(){A.validateFields().then(function(n){s(k({page:N,startDate:n.dateRange[0],endDate:n.dateRange[1],fullName:n.fullName}).then(function(f){ae(te(f.results)),re(f.total)}))}).catch(function(n){console.log("Validate Failed:",n)})};return(0,t.jsx)(de.ZP,{"data-inspector-line":"188","data-inspector-column":"4","data-inspector-relative-path":"src/pages/members/list/index.tsx",children:(0,t.jsx)("div",{"data-inspector-line":"189","data-inspector-column":"6","data-inspector-relative-path":"src/pages/members/list/index.tsx",className:q().main,children:(0,t.jsx)(ce.Z,{"data-inspector-line":"190","data-inspector-column":"8","data-inspector-relative-path":"src/pages/members/list/index.tsx",children:(0,t.jsxs)(u.Z,{"data-inspector-line":"191","data-inspector-column":"10","data-inspector-relative-path":"src/pages/members/list/index.tsx",className:q().tabsCard,bordered:!1,children:[(0,t.jsx)(d.Z,{"data-inspector-line":"192","data-inspector-column":"12","data-inspector-relative-path":"src/pages/members/list/index.tsx",name:"filter-form",form:A,initialValues:{dateRange:K,fullName:""},children:(0,t.jsxs)(ge,{"data-inspector-line":"200","data-inspector-column":"14","data-inspector-relative-path":"src/pages/members/list/index.tsx",children:[(0,t.jsxs)("div",{"data-inspector-line":"201","data-inspector-column":"16","data-inspector-relative-path":"src/pages/members/list/index.tsx",id:"filter-wrapper",children:[(0,t.jsx)(oe.Z,{"data-inspector-line":"202","data-inspector-column":"18","data-inspector-relative-path":"src/pages/members/list/index.tsx",name:"dateRange",label:"L\u1ECDc theo ng\xE0y",placeholder:["T\u1EEB ng\xE0y","\u0110\u1EBFn ng\xE0y"]}),(0,t.jsx)(le.Z,{"data-inspector-line":"207","data-inspector-column":"18","data-inspector-relative-path":"src/pages/members/list/index.tsx",name:"fullName",id:"name-input",label:"L\u1ECDc theo t\xEAn",placeholder:"L\u1ECDc theo t\xEAn"}),(0,t.jsx)(g.Z,{"data-inspector-line":"214","data-inspector-column":"18","data-inspector-relative-path":"src/pages/members/list/index.tsx",type:"primary",id:"search-button",icon:(0,t.jsx)(V.Z,{"data-inspector-line":"217","data-inspector-column":"26","data-inspector-relative-path":"src/pages/members/list/index.tsx"}),onClick:Re,children:"T\xECm ki\u1EBFm"})]}),(0,t.jsx)(g.Z,{"data-inspector-line":"223","data-inspector-column":"16","data-inspector-relative-path":"src/pages/members/list/index.tsx",type:"primary",icon:(0,t.jsx)(S.Z,{"data-inspector-line":"225","data-inspector-column":"24","data-inspector-relative-path":"src/pages/members/list/index.tsx"}),onClick:function(){ve.m8.push("/patients/add")},children:"Th\xEAm th\xE0nh vi\xEAn"})]})}),(0,t.jsx)(x.Z,{"data-inspector-line":"234","data-inspector-column":"12","data-inspector-relative-path":"src/pages/members/list/index.tsx",pagination:{position:["bottomRight"],total:Te,pageSize:10,onChange:function(n){Oe(n-1)}},loading:a,dataSource:y,columns:Fe})]})})})})},Ee=Pe}}]);
